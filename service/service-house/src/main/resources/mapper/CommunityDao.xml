<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.guigu.dao.CommunityDao">

    <!-- 用于select查询公用抽取的列 -->
    <sql id="columns">
		select id,name,description,province_id,city_id,area_id,plate_id,address,longitude,latitude,build_years,property_price,property_company,developer,build_num,house_num,average_price,create_time,update_time,is_deleted
	</sql>
<!--    分页及带查询-->
    <select id="findPage" resultType="community">
        <include refid="columns"></include>
        from hse_community
        <where>
            <if test="name !=null and name != ''">
                name like "%"#{name}"%" and
            </if>
            <if test="area_id !=null and area_id != ''">
                area_id = #{area_id} and
            </if>
            <if test="plate_id !=null and plate_id != ''">
                plate_id = #{plate_id} and
            </if>
            is_deleted = 0
        </where>
        order by id desc
    </select>



</mapper>

